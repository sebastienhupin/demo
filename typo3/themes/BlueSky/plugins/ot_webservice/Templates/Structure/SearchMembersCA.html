<f:layout name="General" />

<f:section name="content">
  <!--
          =====================
                  Templates/Structure/SearchMembersCA.html
  -->
  {namespace otws=Opentalent\OtWebservice\ViewHelpers\Object}
  <f:if condition="{members}">
    <f:then>
      <f:alias map="{roles: '{otws:MembersOrder(members:members, order: \'role\', 
               sort:\'
                president,
                honorary_president,
                vice_president,
                vice_president_of_honor,                
                hour_president,
                president_assistant,
                secretary,
                assistant_secretary,
                treasurer,
                treasurer_assistant,                
                active_member_of_the_ca,
                active_coopted_board_member,                
                youth_reresentative,
                member_of_the_board,
                honorary_member,
                member_of_board_of_honor
               \' 
               )}'}">
        <f:for each="{roles}" as="role" key="name">
          <p class="member-role"><f:translate key="member.role.{name}" /></p>
          <ul class="members">
            <f:for each="{role}" as="member">
              <f:render partial="Structure/List/Member" arguments="{member: member.user, confidentialities: member.confidentialities , settings:settings,iterator:iterator}" />  
            </f:for>
          </ul>
        </f:for>
      </f:alias>
    </f:then>
    <f:else>
      <article class="corps-list">
        <h5>Aucun membre du CA</h5>
      </article>
    </f:else>
  </f:if>
</f:section>